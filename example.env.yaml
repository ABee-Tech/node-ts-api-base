base:
  JWT_SECRET: some-secret-string

  TYPEORM_CONNECTION: postgres
  TYPEORM_HOST: localhost
  TYPEORM_PORT: 5432
  TYPEORM_USERNAME:
  TYPEORM_PASSWORD:

  RATE_LIMIT_WINDOW: 900000 # ms
  RATE_LIMIT_MAX_REQUESTS: 100
  ACCESS_TOKEN_LIFE: 6 # hours

  S3_ID:
  S3_SECRET:
  S3_BUCKETNAME:

development:
  ~compose: [base]
  ENVIRONMENT: development
  PORT: 3000
  TYPEORM_DATABASE: express-api-base-development
  TYPEORM_SYNCHRONIZE: false
  TYPEORM_LOGGING: true
  TYPEORM_MIGRATIONS_RUN: true

test:
  ~compose: [base]
  ENVIRONMENT: test
  PORT: 3001
  TYPEORM_DATABASE: express-api-base-test
  TYPEORM_SYNCHRONIZE: true
  TYPEORM_LOGGING: false
  TYPEORM_MIGRATIONS_RUN: false

ci:
  ~compose: [base, test]
  ENVIRONMENT: ci

  TYPEORM_USERNAME: postgres
  TYPEORM_DATABASE: postgres
